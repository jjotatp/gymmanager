{% extends "layout.njk" %}

{% block content %}

        <div class="card">
            <section class="avatar"
                    style="width: 400px; background: url('{{ instructor.avatar_url}}') no-repeat top center / cover">
            </section>

            <section class="details">
                <h3>Editar Instrutor</h3>
            
                <form method="POST" action="/instructors?_method=PUT">    
                    {% include 'instructors/fields.njk'%}

                    <input type="hidden"
                        name="id"
                        value="{{ instructor.id }}">                    
                </form>

                <form id="form-delete" action="/instructors?_method=DELETE" method="post">
                    <input type="hidden" name="id" value="{{ instructor.id}}">
                    <button type="submit">Deletar</button>
                </form>
            </section>
        </div>
    </div>

    <script>
                    
        const formDelete = document.querySelector("#form-delete")

        formDelete.addEventListener("submit", function(event) {
            const confirmation = confirm("Deseja deletar?")
            if(!confirmation) {
                event.preventDefault()
            }
        })

    </script>
{% endblock content %}