{% extends "layout.njk" %}

{% block content %}

        <div class="card">
            <section class="avatar"
                    style="width: 400px; background: url('{{ member.avatar_url }}') no-repeat top center / cover">
            </section>

            <section class="details">
                <h3>Editar Membro</h3>
            
                <form method="POST" action="/members?_method=PUT">    
                    {% include 'members/fields.njk'%}

                    <input type="hidden"
                        name="id"
                        value="{{ member.id }}">                    
                </form>

                <form id="form-delete" action="/members?_method=DELETE" method="post">
                    <input type="hidden" name="id" value="{{ member.id}}">
                    <button type="submit">Deletar</button>
                </form>

                <script>
                    
                    const formDelete = document.querySelector("#form-delete")

                    formDelete.addEventListener("submit", function(event) {
                        const confirmation = confirm("Deseja deletar?")
                        if(!confirmation) {
                            event.preventDefault()
                        }
                    })

                </script>
            </section>
        </div>
    </div>
{% endblock content %}